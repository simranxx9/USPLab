#include<stdio.h>
#include<fcntl.h>
#include<unistd.h>

void print_unbuffered(char *str)
{
  // setbuf(stdout, NULL);
  while(1)
  {
    char ch = *str;
    if(ch == '\0') break;
    printf("%c", ch);
    str++;
  }
}

int main()
{
  pid_t pid  = fork();
  if(pid<0) return -1;
  if(pid)
  {
    print_unbuffered("parent parent parent parent");
  }
  else{
    
    print_unbuffered("child child child child ");
  }
  printf("\n");
}
